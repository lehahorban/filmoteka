var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in i){var s=i[e];delete i[e];var n={id:e,exports:{}};return t[e]=n,s.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequired7c6=s);var n=s("kKeZA");s("2nhTy");const a=new(0,n.default),r={list:document.querySelector(".movie-collection"),formEl:document.querySelector("#search-form"),inputEl:document.querySelector(".search__input"),pagination:document.querySelector("#tui-pagination-container")};r.formEl.addEventListener("submit",(function(e){e.preventDefault(),a.resetPage(),pagination.movePageTo(a.page),r.pagination.addEventListener("click",l),function(){const e=document.querySelector(".search__error-message");e&&e.classList.contains("active")&&e.classList.remove("active")}(),a.keyword=e.target.elements.search.value.trim(),o()}));function o(){a.searchMovieByKeyword(null).then((e=>{if(0!==e.results.length){pagination.setTotalItems(e.total_results),a.endPage=e.total_pages;try{const n=JSON.parse(localStorage.getItem("genres"));s=e.results,localStorage.setItem("pageMovies",JSON.stringify(s)),t=e.results,i=n,r.list.innerHTML=t.map((e=>{let t=function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(e.genre_ids,i);return`<li class="movies__item" data-id=${e.id}>\n    <a href="" class="movies__link">\n        <img src='${n=e.poster_path,n?`https://image.tmdb.org/t/p/original/${n}`:"https://bflix.biz/no-poster.png"}' class="movie__image" alt="Movie">\n        <div class="movie__text-part">\n            <h2 class="movie__title">${e.title}</h2>\n            <p class="movie__genre">${function(e){return 0===e.length?"No data":e.length>2?`${e[0]}, ${e[1]}, Other`:`${[...e].join(", ")}`}(t)} <span class="stick">|</span> \n                <span class="movie__year">${s=e.release_date,s?s.slice(0,4):"No data"}</span></p>\n        </div>\n    </a>\n</li>`;var s,n})).join("")}catch(e){console.log(e.name),console.log(e.message)}var t,i,s}else document.querySelector(".search__error-message").classList.add("active")}))}function l(e){e.target!==r.pagination&&(e.target.classList.contains("tui-ico-first")&&(a.resetPage(),o()),e.target.classList.contains("tui-ico-last")&&(a.lastPage(),o()),!e.target.classList.contains("tui-page-btn")||e.target.classList.contains("tui-next-is-ellip")||e.target.classList.contains("tui-prev-is-ellip")||(a.cengePage(Number(e.target.textContent)),o()),e.target.classList.contains("tui-ico-next")&&(a.nextPage(),o()),e.target.classList.contains("tui-ico-prev")&&(a.prePage(),o()),e.target.classList.contains("tui-next-is-ellip")&&(a.nextElip(),o()),e.target.classList.contains("tui-prev-is-ellip")&&(a.preElip(),o()),e.target.classList.contains("tui-ico-ellip")&&(e.target.parentElement.classList.contains("tui-next-is-ellip")&&(a.nextElip(),o()),e.target.parentElement.classList.contains("tui-prev-is-ellip")&&(a.preElip(),o())))}
//# sourceMappingURL=index.ca5be704.js.map
