{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,qBAC9BC,EAAeF,SAASC,cAAc,wBACtCE,EAAYH,SAASC,cAAc,wBACnCG,EAAWJ,SAASC,cAAc,qBAClCI,EAAYF,EAAUF,cAAc,gBACpBD,SAASC,cAAc,WACvBD,SAASC,cAAc,UA+E7C,SAASK,EAAeC,GAClBA,EAAEC,SAAWN,IACfA,EAAaO,oBAAoB,QAASH,GAC1CJ,EAAaQ,UAAUC,OAAO,+BAC9BR,EAAUO,UAAUC,OAAO,wBAM/B,SAASC,EAAWL,GACjBA,EAAEM,iBACDT,EAASK,oBAAoB,QAASG,GACtCV,EAAaQ,UAAUC,OAAO,+BAC9BR,EAAUO,UAAUC,OAAO,uBAO/B,SAASG,EAAcP,GACH,KAAdA,EAAEQ,UACJC,OAAOP,oBAAoB,UAAWK,GACtCZ,EAAaQ,UAAUC,OAAO,+BAC9BR,EAAUO,UAAUC,OAAO,wBAtG/BM,QAAQC,IAAId,GACZL,EAAKoB,iBAAiB,SAEtBC,eAAyBb,GAEvB,GADAA,EAAEM,iBACEN,EAAEC,SAAWT,EACf,OAEF,GAAIQ,EAAEC,SAAWT,EAAM,CACrB,MAAMsB,EAAUd,EAAEC,OAAOc,QAAQ,iBAAiBC,QAAQC,GAC1DrB,EAAUsB,aAAa,UAAWJ,GAClChB,EAAUqB,gBAgGdN,eAAiCI,GAC/B,aAAaG,MACX,uCAAuCH,6DAEtCI,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UAEjBL,MAAKM,GACGA,IA3GmBC,CAAkBd,GAASO,MAAKM,IAC1D,MAAME,eACJA,EAAcC,aACdA,EAAYC,WACZA,EAAUC,YACVA,EAAWC,WACXA,EAAUC,OACVA,EAAMC,SACNA,EAAQlB,GACRA,GACEU,EACJ,MAAO,+BA2Cb,SAAsBA,GACpB,OAAIA,EACK,uCAAuCA,IAEzC,kCA9CmBS,CACVJ,YACSH,iIAEqBA,EAAeQ,wEACZpB,uMAGYa,cAAyBC,0NAI/BE,EAAWK,QAC9C,+NAKmCT,EAAeQ,iOAiFxE,SAAwBH,GACtB,OAAsB,IAAlBA,EAAOK,OACF,GAEA,GAAGL,EAAOM,KAAIC,GAASA,EAAMC,OAAMC,KAAK,QAjFMC,CACnCV,yLAOFC,iDAKlBxC,EAAaQ,UAAU0C,IAAI,+BAC3BjD,EAAUO,UAAU0C,IAAI,uBACxBhD,EAASe,iBAAiB,QAASP,GACnCV,EAAaiB,iBAAiB,QAASb,GACvCU,OAAOG,iBAAiB,UAAWL","sources":["src/js/modal.js"],"sourcesContent":["const btns = document.querySelector('.movie-collection');\nconst modalOverlay = document.querySelector('.modal__card-overlay');\nconst modalCard = document.querySelector('.modal__card-content');\nconst closeBtn = document.querySelector('.modal__close-btn');\nconst modalInfo = modalCard.querySelector('.modal__info');\nconst btnAddToWatch = document.querySelector('.wached');\nconst btnAddToQueue = document.querySelector('.queue');\n\nconsole.log(closeBtn);\nbtns.addEventListener('click', showModal);\n\nasync function showModal(e) {\n  e.preventDefault();\n  if (e.target === btns) {\n    return;\n  }\n  if (e.target !== btns) {\n    const movieId = e.target.closest('.movies__item').dataset.id;\n    modalCard.setAttribute('data-id', movieId);\n    modalInfo.innerHTML = await fetchMovieDetails(movieId).then(data => {\n      const {\n        original_title,\n        vote_average,\n        vote_count,\n        poster_path,\n        popularity,\n        genres,\n        overview,\n        id,\n      } = data;\n      return `\n                <img src=\"${checkImgLink(\n                  poster_path\n                )}\" alt=\"${original_title} \" class=\"modal__img\" />\n                <div class=\"modal-movie-film-text\">\n                <h2 class=\"modal__info-title\">${original_title.toUpperCase()}</h2>\n                <ul class=\"discription__modal id=${id}\">\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Vote / Votes</p>\n                    <p class=\"discription__modal-text\"><span>${vote_average}</span> / ${vote_count}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Popularity</p>\n                    <p class=\"discription__modal-text\">${popularity.toFixed(\n                      1\n                    )}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Original Title</p>\n                    <p class=\"discription__modal-text\">${original_title.toUpperCase()}</p>\n                  </li>\n                  <li class=\"discription__modal-item\">\n                    <p class=\"discription__modal-title\">Genre</p>\n                    <p class=\"discription__modal-text\">${checkGenreList(\n                      genres\n                    )}</p>\n                  </li>\n                </ul>\n\n                <h4 class=\"about__modal-title\">About</h4>\n                <p class=\"about__modal-text\">\n                  ${overview}\n                </p></div>\n            `;\n    });\n  }\n  modalOverlay.classList.add('modal__card-overlay--active');\n  modalCard.classList.add('modal__card--active');\n  closeBtn.addEventListener('click', closeByBtn);\n  modalOverlay.addEventListener('click', closeByOverlay);\n  window.addEventListener('keydown', closeByWindow);\n}\n\nfunction checkImgLink(data) {\n  if (data) {\n    return `https://image.tmdb.org/t/p/original/${data}`;\n  }\n  return `https://bflix.biz/no-poster.png`;\n}\n\n// let path = e.currentTarget.getAttribute('data-path');\n// modalCard.classList.remove('modal__card--active');\n// document.querySelector(`[data-target=\"${path}\"]`).classList.add('modal__card--active');\n// modalOverlay.classList.add('modal__card-overlay--active');\n\nfunction closeByOverlay(e) {\n  if (e.target === modalOverlay) {\n    modalOverlay.removeEventListener('click', closeByOverlay);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    // cleanButtons();\n  }\n}\n\n\nfunction closeByBtn(e) {\n   e.preventDefault();\n    closeBtn.removeEventListener('click', closeByBtn);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    \n    \n    // cleanButtons();\n  \n}\n\nfunction closeByWindow(e) {\n  if (e.keyCode === 27) {\n    window.removeEventListener('keydown', closeByWindow);\n    modalOverlay.classList.remove('modal__card-overlay--active');\n    modalCard.classList.remove('modal__card--active');\n    // cleanButtons();\n  }\n}\n\nasync function fetchMovieDetails(id) {\n  return await fetch(\n    `https://api.themoviedb.org/3//movie/${id}?api_key=7fea517bd5b294dd7a1b57e94e2c1c68&language=en-US`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    });\n}\n\nfunction checkGenreList(genres) {\n  if (genres.length === 0) {\n    return '';\n  } else {\n    return `${genres.map(genre => genre.name).join(', ')}`;\n  }\n}\n// function cleanButtons() {\n//   btnAddToQueue.textContent = 'add to queue';\n//   btnAddToWatch.textContent = 'add to Watched';\n// }\n"],"names":["$8a7e756c566dd1ea$var$btns","document","querySelector","$8a7e756c566dd1ea$var$modalOverlay","$8a7e756c566dd1ea$var$modalCard","$8a7e756c566dd1ea$var$closeBtn","$8a7e756c566dd1ea$var$modalInfo","$8a7e756c566dd1ea$var$closeByOverlay","e","target","removeEventListener","classList","remove","$8a7e756c566dd1ea$var$closeByBtn","preventDefault","$8a7e756c566dd1ea$var$closeByWindow","keyCode","window","console","log","addEventListener","async","movieId","closest","dataset","id","setAttribute","innerHTML","fetch","then","response","ok","Error","status","json","data","$8a7e756c566dd1ea$var$fetchMovieDetails","original_title","vote_average","vote_count","poster_path","popularity","genres","overview","$8a7e756c566dd1ea$var$checkImgLink","toUpperCase","toFixed","length","map","genre","name","join","$8a7e756c566dd1ea$var$checkGenreList","add"],"version":3,"file":"library.86599fbf.js.map"}